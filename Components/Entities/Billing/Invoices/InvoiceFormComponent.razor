@using MudBlazor
@inherits InvoiceFormViewModel

@if (InvoiceCreate != null && InvoiceCreate.InvoiceId == 0)

{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Invoice Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceCreate.InvoiceNumber" For="@(() => InvoiceCreate.InvoiceNumber)" />

                        <MudTextField Label="Total Amount" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceCreate.TotalAmount" For="@(() => InvoiceCreate.TotalAmount)" />



                        <MudTextField Label="Date Issued" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceCreate.IssuedDate" For="@(() => InvoiceCreate.IssuedDate)" />

                        <MudSelect Label="Status" Variant="Variant.Outlined" Immediate="true" Required="true"
                                   @bind-Value="InvoiceCreate.Status">
                            @foreach (var status in StatusOptions)



                            {
                                <MudSelectItem Value="@status">@status</MudSelectItem>
                            }
                        </MudSelect>


                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}

else

{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Invoice Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceUpdate.InvoiceNumber" For="@(() => InvoiceUpdate.InvoiceNumber)" />

                        <MudTextField Label="Total Amount" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceUpdate.TotalAmount" For="@(() => InvoiceUpdate.TotalAmount)" />


                        <MudTextField Label="Date Issued" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceUpdate.IssuedDate" For="@(() => InvoiceUpdate.IssuedDate)" />

                        <MudSelect Label="Status" Variant="Variant.Outlined" Immediate="true" Required="true"
                                   @bind-Value="InvoiceUpdate.Status">
                            @foreach (var status in StatusOptions)

                            {
                                <MudSelectItem Value="@status">@status</MudSelectItem>
                            }
                        </MudSelect>

                        <MudTextField Label="Employee ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceUpdate.EmployeeId" For="@(() => InvoiceUpdate.EmployeeId)" />

                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
@code {
    private List<string> StatusOptions = new()
    {
        "Unpaid",
        "Paid",
        "Partially Paid",
        "Overdue",
        "Cancelled"
    };

}