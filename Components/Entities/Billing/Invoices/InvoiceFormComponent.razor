@using MudBlazor
@inherits InvoiceFormViewModel

@if (InvoiceCreate != null && InvoiceCreate.Id == 0)
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Invoice Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceCreate.InvoiceNumber" For="@(() => InvoiceCreate.InvoiceNumber)" />

                        <MudNumericField Label="Amount" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                         @bind-Value="InvoiceCreate.Amount" For="@(() => InvoiceCreate.Amount)" />

                        <MudDatePicker Label="Date Issued" Variant="Variant.Outlined" Required @bind-Value="InvoiceCreate.DateIssued" For="@(() => InvoiceCreate.DateIssued)" />

                        <MudDatePicker Label="Due Date" Variant="Variant.Outlined" Required @bind-Value="InvoiceCreate.DueDate" For="@(() => InvoiceCreate.DueDate)" />

                        <MudCheckBox Label="Is Paid?" @bind-Checked="InvoiceCreate.IsPaid" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
else
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="Invoice Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="InvoiceUpdate.InvoiceNumber" For="@(() => InvoiceUpdate.InvoiceNumber)" />

                        <MudNumericField Label="Amount" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                         @bind-Value="InvoiceUpdate.Amount" For="@(() => InvoiceUpdate.Amount)" />

                        <MudDatePicker Label="Date Issued" Variant="Variant.Outlined" Required @bind-Value="InvoiceUpdate.DateIssued" For="@(() => InvoiceUpdate.DateIssued)" />

                        <MudDatePicker Label="Due Date" Variant="Variant.Outlined" Required @bind-Value="InvoiceUpdate.DueDate" For="@(() => InvoiceUpdate.DueDate)" />

                        <MudCheckBox Label="Is Paid?" @bind-Checked="InvoiceUpdate.IsPaid" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
