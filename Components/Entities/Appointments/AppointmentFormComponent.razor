@using MudBlazor
@inherits AppointmentFormViewModel

@if (AppointmentCreate != null && AppointmentCreate.AppointmentId == 0)
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                       
                        <MudTextField Label="Date" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentCreate.AppointmentDate" For="@(() => AppointmentCreate.AppointmentDate)" />

                        <MudTextField Label="Time" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentCreate.AppointmentTime" For="@(() => AppointmentCreate.AppointmentTime)" />

                        <MudSelect Label="Status" Variant="Variant.Outlined" Immediate="true" Required="true"
                                   @bind-Value="AppointmentCreate.Status">
                            @foreach (var status in StatusOptions)
                            {
                                <MudSelectItem Value="@status">@status</MudSelectItem>
                            }
                            </MudSelect>


                        <MudTextField Label="Employee ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentCreate.EmployeeId" For="@(() => AppointmentCreate.EmployeeId)" />

                        <MudTextField Label="Patient ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentCreate.PatientId" For="@(() => AppointmentCreate.PatientId)" />

                        <MudTextField Label="Treatment ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentCreate.TreatmentId" For="@(() => AppointmentCreate.TreatmentId)" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
else
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">

                        <MudTextField Label="Date" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentUpdate.AppointmentDate" For="@(() => AppointmentUpdate.AppointmentDate)" />

                        <MudTextField Label="Time" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentUpdate.AppointmentTime" For="@(() => AppointmentUpdate.AppointmentTime)" />

                        <MudSelect Label="Status" Variant="Variant.Outlined" Immediate="true" Required="true"
                                   @bind-Value="AppointmentUpdate.Status">
                            @foreach (var status in StatusOptions)
                            {
                                <MudSelectItem Value="@status">@status</MudSelectItem>
                            }
                        </MudSelect>

                        <MudTextField Label="Patient ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentUpdate.PatientId" For="@(() => AppointmentUpdate.PatientId)" />

                        <MudTextField Label="Treatment ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentUpdate.TreatmentId" For="@(() => AppointmentUpdate.TreatmentId)" />

                        <MudTextField Label="Employee ID" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="AppointmentUpdate.EmployeeId" For="@(() => AppointmentUpdate.EmployeeId)" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}

@code {
    private List<string> StatusOptions = new()
    {
        "Pending",
        "Confirmed",
        "Completed",
        "Cancelled"
    };
    }