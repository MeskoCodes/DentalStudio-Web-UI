@inherits AppointmentFormViewModel

@if (AppointmentCreate != null && AppointmentCreate.AppointmentId == 0)
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Patient" @bind-Value="AppointmentCreate.PatientId">
                            @foreach (var patient in Patients)
                            {
                                <MudSelectItem Value=@patient.PatientId>@patient.FirstName</MudSelectItem>
                            }
                        </MudSelect>

                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Employee" @bind-Value="AppointmentCreate.EmployeeId">
                            @foreach (var employee in Employees)
                            {
                                <MudSelectItem Value=@employee.EmployeeId>@employee.FirstName</MudSelectItem>
                            }
                        </MudSelect>

                        <MudDatePicker Label="Appointment Date" Variant="Variant.Outlined" @bind-Value="AppointmentCreate.AppointmentDate" />
                        <MudTimePicker Label="Appointment Time" Variant="Variant.Outlined" @bind-Value="AppointmentCreate.AppointmentTime" />

                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Treatment" @bind-Value="AppointmentCreate.TreatmentId">
                            @foreach (var treatment in Treatments)
                            {
                                <MudSelectItem Value=@treatment.TreatmentId>@treatment.Name</MudSelectItem>
                            }
                        </MudSelect>
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
else
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Patient" @bind-Value="AppointmentUpdate.PatientId">
                            @foreach (var patient in Patients)
                            {
                                <MudSelectItem Value=@patient.PatientId>@patient.FirstName</MudSelectItem>
                            }
                        </MudSelect>

                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Employee" @bind-Value="AppointmentUpdate.EmployeeId">
                            @foreach (var employee in Employees)
                            {
                                <MudSelectItem Value=@employee.EmployeeId>@employee.FirstName</MudSelectItem>
                            }
                        </MudSelect>

                        <MudDatePicker Label="Appointment Date" Variant="Variant.Outlined" @bind-Value="AppointmentUpdate.AppointmentDate" />
                        <MudTimePicker Label="Appointment Time" Variant="Variant.Outlined" @bind-Value="AppointmentUpdate.AppointmentTime" />

                        <MudSelect T="int" Variant="Variant.Outlined" Required Label="Treatment" @bind-Value="AppointmentUpdate.TreatmentId">
                            @foreach (var treatment in Treatments)
                            {
                                <MudSelectItem Value=@treatment.TreatmentId>@treatment.Name</MudSelectItem>
                            }
                        </MudSelect>

                        <MudSelect T="string" Variant="Variant.Outlined" Required Label="Status" @bind-Value="AppointmentUpdate.Status">
                            <MudSelectItem Value="@("Scheduled")">Scheduled</MudSelectItem>
                            <MudSelectItem Value="@("Completed")">Completed</MudSelectItem>
                            <MudSelectItem Value="@("Cancelled")">Cancelled</MudSelectItem>
                        </MudSelect>
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
