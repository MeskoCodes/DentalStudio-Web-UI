@using MudBlazor
@inherits PatientFormViewModel

@if (PatientCreate != null && PatientCreate.PatientId == 0)
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="First Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientCreate.FirstName" For="@(() => PatientCreate.FirstName)" />

                        <MudTextField Label="Last Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientCreate.LastName" For="@(() => PatientCreate.LastName)" />

                        <MudTextField Label="Birth Date" Variant="Variant.Outlined" Immediate="true" Required="true"
                                      RequiredError="@ValidationMessage" DateFormat="yyyy-dd-MM" @bind-Value="PatientCreate.DateOfBirth" />

                        <MudTextField Label="Mobile Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientCreate.MobileNumber" For="@(() => PatientCreate.MobileNumber)" />

                        <MudTextField Label="Email" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientCreate.Email" For="@(() => PatientCreate.Email)" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
else
{
    <MudDialog Style="width:inherit">
        <DialogContent>
            <MudCard>
                <MudCardContent>
                    <MudItem xs="12">
                        <MudTextField Label="First Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientUpdate.FirstName" For="@(() => PatientUpdate.FirstName)" />

                        <MudTextField Label="Last Name" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientUpdate.LastName" For="@(() => PatientUpdate.LastName)" />

                        <MudTextField Label="Birth Date" Variant="Variant.Outlined" Immediate="true" Required="true"
                                      RequiredError="@ValidationMessage" DateFormat="yyyy-dd-MM" @bind-Value="PatientUpdate.DateOfBirth" />

                        <MudTextField Label="Mobile Number" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientUpdate.MobileNumber" For="@(() => PatientUpdate.MobileNumber)" />

                        <MudTextField Label="Email" Variant="Variant.Outlined" Immediate=true Required RequiredError=@ValidationMessage
                                      @bind-Value="PatientUpdate.Email" For="@(() => PatientUpdate.Email)" />
                    </MudItem>
                </MudCardContent>
            </MudCard>
        </DialogContent>
        <DialogActions>
            <MudButton Color="Color.Tertiary" Variant="Variant.Filled" OnClick="() => Cancel()">Cancel</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Disabled="@Disabled" Variant="Variant.Filled" Color="Color.Tertiary" OnClick="() => CreateOrUpdate()">Save</MudButton>
        </DialogActions>
    </MudDialog>
}
