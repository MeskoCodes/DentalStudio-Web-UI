@inherits AccountUpdateViewModel

<MudDialog Style="width:inherit">
    <DialogContent>
        @if (!string.IsNullOrEmpty(ErrorMessage))
        {
            <MudAlert Severity="Severity.Error">@ErrorMessage</MudAlert>
        }
        
        <MudCard>
            <MudCardContent Style="max-height:450px; overflow-y:scroll">
                <MudTextField Label="Firstname" Required RequiredError=@ValidationMessage
                              @bind-Value="Account.FirstName" For="@(() => Account.FirstName)"/>
                <MudTextField Label="Lastname" Class="mt-3" Required RequiredError=@ValidationMessage
                              @bind-Value="Account.LastName" For="@(() => Account.LastName)"/>
                <MudTextField Label="Phone" Class="mt-3" Pattern="^\+?[1-9]\d{1,14}$" 
                              ErrorText="Invalid phone number" 
                              @bind-Value="Account.MobileNumber" For="@(() => Account.MobileNumber)"/>
                <MudTextField Label="Email" Class="mt-3" Required RequiredError="Email is required"
                              @bind-Value="Account.Email" For="@(() => Account.Email)"/>
            </MudCardContent>
        </MudCard>
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Error" OnClick="() => Cancel()">Cancel</MudButton>
        <MudButton ButtonType="ButtonType.Submit" Disabled="@IsDisabled" Variant="Variant.Filled" 
                   Color="Color.Tertiary" OnClick="() => UpdateAccount(Account)">Save</MudButton>
    </DialogActions>
</MudDialog>
